# Wordle 요구사항 분석

## 1. 개요

본 문서는 콘솔 기반 Wordle 게임의 기능 요구사항을 정의한다.  
플레이어는 5글자 영어 단어를 입력하여 정답을 맞히며, 최대 6번의 시도가 허용된다.

---

## 2. 규칙

### 2.1 게임 기본 규칙

- 정답은 **5글자 영어 단어**이다.
- 플레이어는 **최대 6회**까지 단어를 입력할 수 있다.
- 각 입력은 즉시 정답과 비교되어 결과가 출력된다.
- 정답을 맞히면 즉시 게임이 종료된다.
- 6회를 모두 사용하면 게임은 실패로 종료된다.

### 2.2 개발 기본 규칙
- 프로그램 종료시 System.exit()을 호출하지 않는다.
- 삼항 연산자를 사용하지 않는다.
- 함수가 한가지일만 하도록 최대한 작게 만든다.
- 기능은 테스트로 확인한다.
- 메소드 길이는 15라인을 넘어가지 않게 구현한다.
- else를 사용하지 않는다.
- 도메인 클래스에 단위테스트가 작성되어야한다.
- Java 21 이상
- 외부 라이브러리 사용 금지
- 콘솔 기반 입출력
- 테스트 코드 작성 필수
- 객체지향 설계 원칙 준수
- 클린 코드 지향
---

### 2.2 판정 규칙 (타일 상태)

각 입력 단어의 문자들은 정답과 비교되어 아래 3가지 상태 중 하나로 판정된다.

| 상태 | 의미 |
|----|----|
| 초록색 | 해당 문자가 정답에 존재하며 위치도 동일 |
| 노란색 | 해당 문자가 정답에 존재하지만 위치는 다름 |
| 회색 | 해당 문자가 정답에 존재하지 않음 |

#### 중복 문자 처리 규칙

- 동일한 문자를 여러 번 입력한 경우, **정답에 존재하는 개수만큼만 초록/노란색으로 표시**된다.
- 초과된 동일 문자는 회색으로 판정된다.
- 예시.
    - 정답 : hello
    - 입력 : lllll
    - 출력 : ⬜⬜🟩🟩⬜

---

## 3. 단어 유효성 규칙

### 3.1 단어 길이

- 입력 단어는 반드시 **5글자**여야 한다.

### 3.2 단어 사전
- 정답과 사용자 입력 단어는 모두 `words.txt` 파일에 포함된 단어여야 한다.
- 사전에 없는 단어는 유효하지 않은 입력으로 처리한다.
    - ex.
    - 사전에 있는 단어이자 정답 mercy
    - 사전에 없는 사용자 입력 nurse
    - 출력
        1. ⬜⬜🟩⬜🟨 보여주지 않고 횟수를 차감하지 않는다.
        2. 유효하지 않은 입력 (채택)
---

## 4. 오늘의 정답 선정 규칙

정답 단어는 날짜 기반으로 결정된다.

- 기준 날짜: `2021-06-19`
- 단어 목록: `words.txt`



### 계산 식
``` 
배열의 크기 = x * y
index = ((현재 날짜 - 2021-06-19) % 배열의 크기)
오늘의 정답 = words[index]
0 ~ 29까지 출제된다
```
- 동일한 날짜에는 항상 동일한 정답이 선택된다.

---

## 5. 사용자 흐름

1. 게임 시작 메시지를 출력한다.  
   시작 메시지는 다음과 같다.
```
WORDLE을 6번 만에 맞춰 보세요.
시도의 결과는 타일의 색 변화로 나타납니다.
```

2. 사용자에게 단어 입력을 요청한다.
   입력단어 길이를 제한하지 않는다

3. 사용자가 5글자 단어를 입력한다.
4. 입력 단어의 유효성을 검증한다.
    - 길이 검사
    - 사전 포함 여부 검사
        - words.txt파일에 있는 단어만인데 배열크기-1 만큼 조회하면 더 빠르게 조회가 가능하다
5. 정답과 입력 단어를 비교하여 타일 결과를 생성한다
    - ⬜ : 위치도 안맞고 스펠링도 안맞는 경우
    - 🟨 : 스펠링은 맞지만 위치가 틀린 경우
    - 🟩 : 스펠링도 맞고 위치도 맞는 경우
6. 결과를 누적 보드 형태로 출력한다.
    - 계속 쌓아간걸로 표현되어야 한다
7. 정답을 맞히면 성공으로 게임을 종료한다.
    - System.exit(0);  // 강제 종료 - 이렇게 하지 말라는 것
    - 종료처리에 대한 상태를 추가한다
8. 6회 시도를 모두 소진하면 실패로 게임을 종료한다.
    - 종료처리에 대한 상태를 추가한다
---

## 6. 출력 명세

### 6.1 시작 메시지

- `WORDLE을 6번 만에 맞춰 보세요.`
- `시도의 결과는 타일의 색 변화로 나타납니다.`

### 6.2 입력 안내

- `정답을 입력해 주세요.`

### 6.3 결과 출력

- 각 시도 후, 이전 결과를 포함한 전체 보드를 출력한다.
- 성공 시 다음 형식의 결과 요약을 출력한다.

```
성공시도수 / 6
예: 4/6
```


---

## 7. 종료 조건
- 성공여부에 대한 상태를 추가한다
- 성공여부는 긍정형으로 작성한다

### 7.1 성공 종료
- 입력한 단어가 정답과 완전히 일치한 경우

### 7.2 실패 종료
- 6번의 시도 동안 정답을 맞히지 못한 경우

---

## 8. 용어 정의

| 용어 | 설명                     |
|----|------------------------|
| 시도 | 사용자가 단어를 한 번 입력하는 행위   |
| 타일 | 문자 하나에 대한 판정 결과        |
| 보드 | 전체 시도 결과를 누적한 출력 영역(행) | 